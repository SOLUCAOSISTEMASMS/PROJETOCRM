{% extends "base.html" %}
{% block conteudo %}
<div class="container mt-4">
  <h3><i class="bi bi-person-vcard-fill"></i> Detalhes do Cliente</h3>

  <div class="card border-primary mb-4">
    <div class="card-body">
      <h5 class="card-title fw-bold">{{ cliente.nome }}</h5>
      <p><strong>Email:</strong> {{ cliente.email }}</p>
      <p><strong>Telefone:</strong> {{ cliente.telefone }}</p>
      <p><strong>Empresa:</strong> {{ cliente.empresa }}</p>
    </div>
  </div>

  <h5><i class="bi bi-chat-square-text"></i> Contatos</h5>
  {% if cliente.contatos %}
    <ul class="list-group mb-3">
      {% for contato in cliente.contatos %}
        <li class="list-group-item">
          <strong>{{ contato.assunto }}</strong>
          <small class="text-muted d-block">{{ contato.data.strftime('%d/%m/%Y %H:%M') }}</small>
          <p>{{ contato.descricao }}</p>
          <a href="{{ url_for('ver_contato', contato_id=contato.id) }}" class="btn btn-sm btn-outline-info">Ver contato</a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted">Nenhum contato registrado para este cliente.</p>
  {% endif %}

  <a href="{{ url_for('novo_contato', cliente_id=cliente.id) }}" class="btn btn-success">
    <i class="bi bi-plus-circle"></i> Adicionar Contato
  </a>
  <a href="{{ url_for('editar_cliente', cliente_id=cliente.id) }}" class="btn btn-warning ms-2">Editar Cliente</a>
  <a href="{{ url_for('listar_clientes') }}" class="btn btn-secondary ms-2">Voltar Ã  Lista</a>
</div>
{% endblock %}